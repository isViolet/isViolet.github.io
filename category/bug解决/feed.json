{
    "version": "https://jsonfeed.org/version/1",
    "title": "Violet • All posts by \"bug解决\" category",
    "description": "",
    "home_page_url": "https://isviolet.github.io",
    "items": [
        {
            "id": "https://isviolet.github.io/p/f1f34cbd.html",
            "url": "https://isviolet.github.io/p/f1f34cbd.html",
            "title": "IDEA错误 找不到或无法加载主类",
            "date_published": "2021-05-18T13:11:18.867Z",
            "content_html": "<h1 id=\"问题描述\"><a class=\"anchor\" href=\"#问题描述\">#</a> 问题描述</h1>\n<blockquote>\n<p>IDEA 错误：找不到或无法加载主类 com.itmayiedu.springcloud.SpringcloudApplication</p>\n</blockquote>\n<h1 id=\"解决方法\"><a class=\"anchor\" href=\"#解决方法\">#</a> 解决方法</h1>\n<h2 id=\"1-打开顶部菜单run选择edit-configurations\"><a class=\"anchor\" href=\"#1-打开顶部菜单run选择edit-configurations\">#</a> 1. 打开顶部菜单 run, 选择 Edit configurations...</h2>\n<p><img data-src=\"https://i.loli.net/2021/05/18/SU6fXNeHiplaP3T.png\" alt=\"file\" /></p>\n<h2 id=\"2-引入主类包的位置\"><a class=\"anchor\" href=\"#2-引入主类包的位置\">#</a> 2. 引入主类包的位置</h2>\n<p><img data-src=\"https://i.loli.net/2021/05/18/abVoWTNqQG2dyw7.png\" alt=\"file\" /></p>\n",
            "tags": [
                "springboot",
                "bug"
            ]
        },
        {
            "id": "https://isviolet.github.io/p/a7d5195f.html",
            "url": "https://isviolet.github.io/p/a7d5195f.html",
            "title": "Swagger-UI 提示Unable to infer base url",
            "date_published": "2021-05-18T13:08:27.876Z",
            "content_html": "<h1 id=\"错误信息为\"><a class=\"anchor\" href=\"#错误信息为\">#</a> 错误信息为：</h1>\n<blockquote>\n<p>Unable to infer base url. This is common when using dynamic servlet registration or when the API is behind an API Gateway. The base url is the root of where all the swagger resources are served. For e.g. if the api is available at <span class=\"exturl\" data-url=\"aHR0cDovL2V4YW1wbGUub3JnL2FwaS92Mi9hcGktZG9jcw==\">http://example.org/api/v2/api-docs</span> then the base url is <span class=\"exturl\" data-url=\"aHR0cDovL2V4YW1wbGUub3JnL2FwaS8=\">http://example.org/api/</span>. Please enter the location manually: <img data-src=\"https://i.loli.net/2021/05/18/8w4eyghRNtvfnjq.png\" alt=\"file\" /></p>\n</blockquote>\n<h1 id=\"解决方案\"><a class=\"anchor\" href=\"#解决方案\">#</a> 解决方案</h1>\n<ol>\n<li>版本问题：2.8 以后的版本很容易出现这类问题。</li>\n<li>在 application 启动类中未定义 @EnableSwagger2 注解</li>\n</ol>\n",
            "tags": [
                "springboot",
                "bug"
            ]
        },
        {
            "id": "https://isviolet.github.io/p/c48cc324.html",
            "url": "https://isviolet.github.io/p/c48cc324.html",
            "title": "Content type 'multipartform-data;boundary=.. WebKitFormBoundary..;charset=UTF-8' not supported",
            "date_published": "2021-05-18T12:17:20.717Z",
            "content_html": "<blockquote>\n<p>说下场景吧，前端一个订单表单，填好相应的表单信息封装成 json 数据上传，并且附带上传一个 Excel 文件，同一个接口提交到后端，想着后端代码通过实体接收 json 数据，然后解析接收到的 excel 文件，然而 这么基础的 http 请求头类型的问题坑了自己 (对象实体和文件是不同类型的数据，同一个接口提交，用 Content-Type: multipart/form-data 是解析不了我的 json 参数的)</p>\n</blockquote>\n<h3 id=\"请求体\"><a class=\"anchor\" href=\"#请求体\">#</a> 请求体</h3>\n<p><img data-src=\"https://i.loli.net/2021/05/18/bm48RUHLOj9X63c.png\" alt=\"file\" /></p>\n<figure class=\"highlight json\"><figcaption data-lang=\"JSON\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>curl -X POST --header 'Content-Type<span class=\"token operator\">:</span> multipart/form-data' --header 'Accept<span class=\"token operator\">:</span> application/json' -d '<span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token property\">\"customerId\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"CU43531977852501\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token property\">\"endTime\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2020-04-04 16:53:34\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token property\">\"flowStrategy\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token property\">\"orderName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"测试1\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token property\">\"pdCode\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1111111\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token property\">\"sourceUrls\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token property\">\"startTime\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2020-04-03 16:53:34\"</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  <span class=\"token property\">\"targetUrl\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token punctuation\">&#125;</span>' 'http<span class=\"token operator\">:</span><span class=\"token comment\">//localhost:8081/order/batchByExcel'</span></pre></td></tr></table></figure><h3 id=\"返回响应数据\"><a class=\"anchor\" href=\"#返回响应数据\">#</a> 返回响应数据</h3>\n<figure class=\"highlight json\"><figcaption data-lang=\"JSON\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token punctuation\">&#123;</span> <span class=\"token property\">\"code\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"PARAM_WRONG\"</span><span class=\"token punctuation\">,</span> <span class=\"token property\">\"msg\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Content type 'multipart/form-data;boundary=----WebKitFormBoundaryW25LVTHs8WCBZUfG;charset=UTF-8' not supported\"</span><span class=\"token punctuation\">,</span> <span class=\"token property\">\"dataObject\"</span><span class=\"token operator\">:</span> <span class=\"token null keyword\">null</span> <span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h3 id=\"下面是报错相关代码\"><a class=\"anchor\" href=\"#下面是报错相关代码\">#</a> 下面是报错相关代码</h3>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token annotation punctuation\">@PostMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/batchByExcel\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token class-name\">BaseResponse</span> <span class=\"token function\">createBatchOrders</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@ApiParam</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"上传文件\"</span><span class=\"token punctuation\">)</span> <span class=\"token annotation punctuation\">@RequestParam</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"fileName\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">MultipartFile</span> file<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>                                      <span class=\"token annotation punctuation\">@Valid</span> <span class=\"token annotation punctuation\">@RequestBody</span> <span class=\"token class-name\">CreateBatchOrderReq</span> req<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token comment\">//codes...</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h4 id=\"解决方法是将上面的一个接口拆分成两个解决方法是将上面的一个接口拆分成两个\"><a class=\"anchor\" href=\"#解决方法是将上面的一个接口拆分成两个解决方法是将上面的一个接口拆分成两个\">#</a> 解决方法是，将上面的一个接口拆分成两个：解决方法是，将上面的一个接口拆分成两个：</h4>\n<ul>\n<li>一个接收文件，保存文件到本地或者其他服务器，返回一个文件编码或者文件地址；</li>\n<li>一个接口接收 json 数据，json 参数中包含文件编码或者地址，根据编码或地址找到文件进行后续的数据操作。</li>\n</ul>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token annotation punctuation\">@PostMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/batchFile\"</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token class-name\">BaseResponse</span> <span class=\"token function\">uploadBatchFile</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@ApiParam</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"上传文件\"</span><span class=\"token punctuation\">)</span> <span class=\"token annotation punctuation\">@RequestParam</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"fileName\"</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">MultipartFile</span> file<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    <span class=\"token comment\">//codes...</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token annotation punctuation\">@PostMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/batch\"</span><span class=\"token punctuation\">)</span><span class=\"token annotation punctuation\">@ApiOperation</span><span class=\"token punctuation\">(</span>value <span class=\"token operator\">=</span> <span class=\"token string\">\"新增批量订单(需要先导入excel)\"</span><span class=\"token punctuation\">)</span><span class=\"token keyword\">public</span> <span class=\"token class-name\">BaseResponse</span> <span class=\"token function\">createBatchOrders</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@Valid</span> <span class=\"token annotation punctuation\">@RequestBody</span> <span class=\"token class-name\">CreateBatchOrderReq</span> req<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token comment\">//codes…&#125;</span></pre></td></tr></table></figure><blockquote>\n<p><img data-src=\"https://i.loli.net/2021/05/18/WLFsnoERKYCydO9.png\" alt=\"file\" /> <img data-src=\"https://i.loli.net/2021/05/18/CbqcpPGQJr2YsTw.png\" alt=\"file\" /> <img data-src=\"https://i.loli.net/2021/05/18/Te12rDxCGf6NjK3.png\" alt=\"file\" /></p>\n</blockquote>\n",
            "tags": [
                "springboot",
                "bug"
            ]
        }
    ]
}